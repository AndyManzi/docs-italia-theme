{% macro card(title, subtitle, link, text) %}
<div class="u-nbfc u-flexWrap u-flex u-color-grey-30 u-xs-padding-all-none u-borderRadius-m u-sizeFill">
  {% if kwargs.hasImage %}
  <div class="u-sizeFull">
    <img src="{{ kwargs.image | default('//placehold.it/400x220') }}" class="u-sizeFull" alt="{{ kwargs.alt }}" />
  </div>
  {% endif %}
  <div class="Card__book u-flexWrap u-flex u-flexCol u-flexJustifyBetween u-sizeFill u-padding-all-xs">

    {% if kwargs.date %}
    {# <time datetime="{{ kwargs.date | date_to_xmlschema }}" #}
    <time datetime="{{ kwargs.date }}"
      class="{% if kwargs.flat != true %}u-padding-r-all u-xs-padding-all-none{% endif %} u-padding-r-bottom u-text-r-xxs u-color-grey-50">
        {# _date | date: "%b %-d, %Y" #}
        {{ kwargs.date }}
      </time>
    {% endif %}

    <div class="Grid u-sizeFull u-padding-r-top">
      <div class="Grid-cell u-size5of8 u-border-bottom-xxs">
          <h3 class="u-padding-r-left u-padding-bottom-xs">
            <a class="u-textClean u-textWeight-600 u-text-r-xxs u-color-grey-50" href="{{ link }}">
              {{ _(title) }}

              {% if kwargs.comingsoon %}
              <div class="u-inlineBlock u-padding-left-xs">
                <span class="u-inlineBlock u-textWeight-600 u-alignMiddle u-padding-top-xxs u-padding-bottom-xxs u-padding-r-right u-padding-r-left
                  u-borderRadius-xl u-background-grey-20 u-color-50 u-text-xxs">
                {{ _(t.coming_soon) }}</span>
              </div>
              {% endif %}
            </a>
          </h3>
      </div>
      <div class="Grid-cell u-size3of8 u-padding-r-right u-textRight">
          <span class="u-padding-right-xs u-padding-left-xs u-color-white u-text-xxs u-borderRadius-m u-background-teal-30">v1.0</span>
      </div>
    </div>
    

    {% if kwargs.author %}
      <div class="u-padding-r-bottom">
        <span itemprop="name" class="u-text-r-xs u-textSecondary">{{ _(t.by) }} {{ kwargs.author | capitalize }}</span>
      </div>
    {% endif %}

    {% if subtitle %}
    <h4 class="u-textWeight-400 u-lineHeight-l u-text-r-xs u-color-grey-60 u-padding-bottom-xs">
        {{ _(subtitle) }}
    </h4>
    {% endif %}

    {% if text %}
      <div class="Content u-textSecondary u-padding-r-all">
        <h4 class="u-text-h4 u-color-50 u-padding-bottom-xxs">About the project</h4>
        <span class="u-text-xxs">{{ _(text) }}</span>
      </div>
    {% endif %}

  </div>
</div>
{% endmacro %}
